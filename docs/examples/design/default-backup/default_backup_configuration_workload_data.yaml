apiVersion: stash.appscode.com/v1alpha2
kind: DefaultBackupConfiguration
metadata:
  name: workload-data-default-backup-configuration
spec:
  backend:
    gcs:
      bucket: stash-backup-repo
      prefix: ${metadata.namespace}/${metadata.name} # this prefix template will be used to initialize repository in different directory in backend.
    storageSecretName: gcs-secret # users must ensure this secret is present in respective namespace
  schedule: '@every 1h'
  # < no backupProcedure required >
  retentionPolicy:
    name: 'keep-last-5'
    keepLast: 5
    prune: true
